<div class="min-h-screen ">
  <!-- Modern Header Section -->
  <div
    class="analytics-header max-w-7xl mx-auto rounded-xl shadow-lg relative overflow-hidden bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"
  >
    <!-- Background Pattern -->
    <div
      class="absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-800 dark:via-gray-900 dark:to-gray-900"
    ></div>
    <div class="absolute inset-0 opacity-20 dark:opacity-10">
      <div
        class="w-full h-full"
        style="
          background-image: radial-gradient(
            circle at 1px 1px,
            rgba(99, 102, 241, 0.4) 1px,
            transparent 0
          );
          background-size: 24px 24px;
        "
      ></div>
    </div>

    <div class="relative px-4 sm:px-6 lg:px-8 py-6 lg:py-8">
      <div class="max-w-7xl mx-auto">
        <!-- Title Section -->
        <div
          class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6"
        >
          <div class="flex items-center gap-4">
            <div
              class="header-icon w-16 h-16 bg-gradient-to-br from-blue-500 via-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl"
            >
              <i class="pi pi-chart-line text-white text-2xl"></i>
            </div>
            <div>
              <h1
                class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white tracking-tight"
              >
                Analytics Dashboard
              </h1>
              <p
                class="text-gray-600 dark:text-gray-300 text-sm sm:text-base mt-1"
              >
                Track your reading journey with detailed insights and statistics
              </p>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="flex items-center gap-3">
            <p-button
              icon="pi pi-refresh"
              severity="secondary"
              size="small"
              (onClick)="resetFilters()"
              [outlined]="true"
              pTooltip="Reset all filters"
            ></p-button>

            <p-button
              icon="pi pi-share-alt"
              severity="info"
              size="small"
              (onClick)="shareAnalytics()"
              [outlined]="true"
              pTooltip="Share analytics summary"
            ></p-button>

            <p-button
              icon="pi pi-print"
              severity="help"
              size="small"
              (onClick)="printReport()"
              [outlined]="true"
              pTooltip="Print analytics report"
            ></p-button>

            <p-button
              icon="pi pi-download"
              size="small"
              (onClick)="exportData()"
              pTooltip="Export analytics data"
            ></p-button>
          </div>
        </div>

        <!-- Filters Section -->
        <div
          class="flex flex-col sm:flex-row items-start sm:items-center gap-4"
        >
          <div class="flex items-center gap-2 text-sm font-medium">
            <i class="pi pi-filter text-gray-500"></i>
            <span>Filter by:</span>
          </div>

          <div class="flex flex-wrap gap-3">
            <div class="flex items-center gap-2">
              <p-select
                [options]="genreOptions"
                [(ngModel)]="selectedGenre"
                optionLabel="label"
                placeholder="All Genres"
                appendTo="body"
                class="w-40"
                (onChange)="updateDashboard()"
                [showClear]="true"
              ></p-select>
            </div>

            <div class="flex items-center gap-2">
              <p-select
                [options]="authorOptions"
                [(ngModel)]="selectedAuthor"
                appendTo="body"
                optionLabel="label"
                placeholder="All Authors"
                class="w-40"
                (onChange)="updateDashboard()"
                [showClear]="true"
              ></p-select>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>

  <!-- Quick Stats Section -->
  <div class="quick-stats">
    <div class="max-w-7xl mx-auto py-6 lg:py-8">
      <div class="grid grid-cols-2 sm:grid-cols-2 gap-4 mx-2 lg:gap-6">
        <div
          class="bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"
            >
              <i class="pi pi-book text-blue-600 dark:text-blue-400"></i>
            </div>
            <div>
              <p class="text-2xl font-bold text-gray-900 dark:text-white">
                {{ formatNumber(stats.totalBooks) }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-400">Books Read</p>
            </div>
          </div>
        </div>

        <div
          class="bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-emerald-100 dark:bg-emerald-900 rounded-lg flex items-center justify-center"
            >
              <i class="pi pi-file text-emerald-600 dark:text-emerald-400"></i>
            </div>
            <div>
              <p class="text-2xl font-bold text-gray-900 dark:text-white">
                {{ formatNumber(stats.totalPages) }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-400">Pages Read</p>
            </div>
          </div>
        </div>

        <div
          class="bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-amber-100 dark:bg-amber-900 rounded-lg flex items-center justify-center"
            >
              <i class="pi pi-star text-amber-600 dark:text-amber-400"></i>
            </div>
            <div>
              <p class="text-2xl font-bold text-gray-900 dark:text-white">
                {{ stats.avgRating }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-400">Avg Rating</p>
            </div>
          </div>
        </div>

        <div
          class="bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center"
            >
              <i class="pi pi-clock text-purple-600 dark:text-purple-400"></i>
            </div>
            <div>
              <p class="text-2xl font-bold text-gray-900 dark:text-white">
                {{ formatNumber(stats.totalHours) }}
              </p>
              <p class="text-sm text-gray-600 dark:text-gray-400">Hours Read</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Container -->
  <div class="lg:px-6 py-6 lg:py-8">
    <div class="max-w-7xl mx-auto">
      <!-- Trend Insights Section -->
      <div class="trend-insights mb-8 mx-2">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <!-- Reading Trend Insight -->
          <div
            class="bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm"
          >
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-2">
                <div
                  class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"
                >
                  <i
                    class="fa fa-level-up text-blue-600 dark:text-blue-400 text-sm"
                  ></i>
                </div>
                <span
                  class="text-sm font-medium text-gray-600 dark:text-gray-400"
                  >Books Trend</span
                >
              </div>
              <p-tag
                [value]="stats.trends.books.value + '%'"
                [severity]="
                  stats.trends.books.isPositive ? 'success' : 'danger'
                "
                [icon]="getTrendIcon(stats.trends.books.isPositive)"
              ></p-tag>
            </div>
            <p class="text-xs text-gray-500 dark:text-gray-400">
              vs last month
            </p>
          </div>

          <!-- Pages Trend Insight -->
          <div
            class="bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm"
          >
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-2">
                <div
                  class="w-8 h-8 bg-emerald-100 dark:bg-emerald-900 rounded-lg flex items-center justify-center"
                >
                  <i
                    class="pi pi-file text-emerald-600 dark:text-emerald-400 text-sm"
                  ></i>
                </div>
                <span
                  class="text-sm font-medium text-gray-600 dark:text-gray-400"
                  >Pages Trend</span
                >
              </div>
              <p-tag
                [value]="stats.trends.pages.value + '%'"
                [severity]="
                  stats.trends.pages.isPositive ? 'success' : 'danger'
                "
                [icon]="getTrendIcon(stats.trends.pages.isPositive)"
              ></p-tag>
            </div>
            <p class="text-xs text-gray-500 dark:text-gray-400">
              vs last month
            </p>
          </div>

          <!-- Hours Trend Insight -->
          <div
            class="bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm"
          >
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-2">
                <div
                  class="w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center"
                >
                  <i
                    class="pi pi-clock text-purple-600 dark:text-purple-400 text-sm"
                  ></i>
                </div>
                <span
                  class="text-sm font-medium text-gray-600 dark:text-gray-400"
                  >Hours Trend</span
                >
              </div>
              <p-tag
                [value]="stats.trends.hours.value + '%'"
                [severity]="
                  stats.trends.hours.isPositive ? 'success' : 'danger'
                "
                [icon]="getTrendIcon(stats.trends.hours.isPositive)"
              ></p-tag>
            </div>
            <p class="text-xs text-gray-500 dark:text-gray-400">
              vs last month
            </p>
          </div>

          <!-- Completion Rate Insight -->
          <div
            class="bg-white dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm"
          >
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-2">
                <div
                  class="w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center"
                >
                  <i
                    class="pi pi-check-circle text-indigo-600 dark:text-indigo-400 text-sm"
                  ></i>
                </div>
                <span
                  class="text-sm font-medium text-gray-600 dark:text-gray-400"
                  >Completion</span
                >
              </div>
              <p-tag
                [value]="stats.trends.completion.value + '%'"
                [severity]="
                  stats.trends.completion.isPositive ? 'success' : 'danger'
                "
                [icon]="getTrendIcon(stats.trends.completion.isPositive)"
              ></p-tag>
            </div>
            <p class="text-xs text-gray-500 dark:text-gray-400">
              vs last month
            </p>
          </div>
        </div>
      </div>

      <!-- Charts Grid -->
      <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8">
        <!-- Reading Trend Chart -->
        <p-card class="chart-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-blue-100 dark:bg-blue-200 rounded-lg">
                  <i
                    class="pi pi-chart-line text-blue-600 dark:text-blue-400"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Reading Trend
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Monthly books & pages
                  </p>
                </div>
              </div>
              <p-tag
                value="+23%"
                severity="success"
                icon="pi pi-arrow-up"
              ></p-tag>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <apx-chart
              #readingTrendChartComponent
              [series]="readingTrendChart.series"
              [chart]="readingTrendChart.chart"
              [xaxis]="readingTrendChart.xaxis!"
              [stroke]="readingTrendChart.stroke!"
              [colors]="readingTrendChart.colors!"
              [tooltip]="readingTrendChart.tooltip!"
              [legend]="readingTrendChart.legend!"
              [fill]="readingTrendChart.fill!"
              [grid]="readingTrendChart.grid!"
              [markers]="readingTrendChart.markers!"
              [yaxis]="readingTrendChart.yaxis!"
            ></apx-chart>
          </ng-template>
        </p-card>

        <!-- Genre Distribution Chart -->
        <p-card class="chart-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-purple-100 dark:bg-purple-200 rounded-lg">
                  <i
                    class="pi pi-chart-pie text-purple-600 dark:text-purple-800"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Genre Distribution
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Reading preferences
                  </p>
                </div>
              </div>
              
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <apx-chart
              #genrePieChartComponent
              [series]="genrePieChart.series"
              [chart]="genrePieChart.chart"
              [labels]="genrePieChart.labels!"
              [legend]="genrePieChart.legend!"
              [tooltip]="genrePieChart.tooltip!"
              [colors]="genrePieChart.colors!"
              [plotOptions]="genrePieChart.plotOptions!"
              [dataLabels]="genrePieChart.dataLabels!"
              [responsive]="genrePieChart.responsive!"
              (dataPointSelection)="onGenreClick($event)"
            ></apx-chart>
          </ng-template>
        </p-card>

        <!-- Monthly Spending Chart -->
        <p-card class="chart-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-emerald-100 dark:bg-emerald-200 rounded-lg">
                  <i
                    class="pi pi-dollar text-emerald-600 dark:text-emerald-800"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Monthly Spending
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Book purchases
                  </p>
                </div>
              </div>
              <p-tag
                value="-5%"
                severity="danger"
                icon="pi pi-arrow-down"
              ></p-tag>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <apx-chart
              #spendingBarChartComponent
              [series]="spendingBarChart.series"
              [chart]="spendingBarChart.chart"
              [plotOptions]="spendingBarChart.plotOptions!"
              [xaxis]="spendingBarChart.xaxis!"
              [colors]="spendingBarChart.colors!"
              [tooltip]="spendingBarChart.tooltip!"
              [fill]="spendingBarChart.fill!"
              [grid]="spendingBarChart.grid!"
              [dataLabels]="spendingBarChart.dataLabels!"
              [yaxis]="spendingBarChart.yaxis!"
            ></apx-chart>
          </ng-template>
        </p-card>

        <!-- Rating Distribution Chart -->
        <p-card class="chart-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-amber-100 dark:bg-amber-200 rounded-lg">
                  <i class="pi pi-star text-amber-600 dark:text-amber-800"></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Rating Distribution
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Book ratings breakdown
                  </p>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <i class="pi pi-star-fill text-amber-400 text-sm"></i>
                <span
                  class="text-sm font-medium text-gray-700 dark:text-gray-300"
                  >{{ stats.avgRating }}</span
                >
              </div>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <apx-chart
              #ratingDistributionChartComponent
              [series]="ratingDistributionChart.series"
              [chart]="ratingDistributionChart.chart"
              [xaxis]="ratingDistributionChart.xaxis!"
              [yaxis]="ratingDistributionChart.yaxis!"
              [plotOptions]="ratingDistributionChart.plotOptions!"
              [tooltip]="ratingDistributionChart.tooltip!"
            ></apx-chart>
          </ng-template>
        </p-card>

        <!-- Author Leaderboard Chart -->
        <p-card class="chart-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-rose-100 dark:bg-rose-200 rounded-lg">
                  <i class="pi pi-users text-rose-600 dark:text-rose-800"></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Top Authors
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Most read authors
                  </p>
                </div>
              </div>
              <p-tag
                value="Click to filter"
                severity="info"
                icon="pi pi-info-circle"
              ></p-tag>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <apx-chart
              #authorLeaderboardChartComponent
              [series]="authorLeaderboardChart.series"
              [chart]="authorLeaderboardChart.chart"
              [plotOptions]="authorLeaderboardChart.plotOptions!"
              [xaxis]="authorLeaderboardChart.xaxis!"
              [yaxis]="authorLeaderboardChart.yaxis!"
              [tooltip]="authorLeaderboardChart.tooltip!"
              (dataPointSelection)="onAuthorClick($event)"
            ></apx-chart>
          </ng-template>
        </p-card>

        <!-- Completion Rate Card -->
        <p-card class="chart-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-indigo-100 dark:bg-indigo-200 rounded-lg">
                  <i
                    class="pi pi-check-circle text-indigo-600 dark:text-indigo-800"
                  ></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Reading Progress
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Books completion status
                  </p>
                </div>
              </div>
              <p-tag
                [value]="stats.trends.completion.value + '% vs last month'"
                [severity]="
                  stats.trends.completion.isPositive ? 'success' : 'danger'
                "
                [icon]="getTrendIcon(stats.trends.completion.isPositive)"
              ></p-tag>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <div class="flex flex-col items-center justify-center p-4">
              <apx-chart
                #completionRadialChartComponent
                [series]="completionRadialChart.series"
                [chart]="completionRadialChart.chart"
                [plotOptions]="completionRadialChart.plotOptions!"
                [labels]="completionRadialChart.labels!"
                [tooltip]="completionRadialChart.tooltip!"
                class="completion-radial-chart"
              ></apx-chart>
            </div>
          </ng-template>
        </p-card>
      </div>

      <!-- Full Width Reading Streak Section -->
      <div class="w-full mt-8 ">
        <p-card class="reading-streak-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center gap-3 p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="p-2 bg-orange-100 dark:bg-orange-200 rounded-lg">
                <i
                  class="pi pi-calendar text-orange-600 dark:text-orange-800"
                ></i>
              </div>
              <div>
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                  Reading Streak
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                  Your daily reading consistency
                </p>
              </div>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <app-reading-streak></app-reading-streak>
          </ng-template>
        </p-card>
      </div>

      <!-- Data Table Section -->
      <div class="w-full mt-8 ">
        <p-card class="data-table-card mx-2">
          <ng-template pTemplate="header">
            <div
              class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"
            >
              <div class="flex items-center gap-3">
                <div class="p-2 bg-blue-100 dark:bg-blue-200 rounded-lg">
                  <i class="pi pi-table text-blue-600 dark:text-blue-800"></i>
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Reading Data
                  </h3>
                  <p class="text-sm text-gray-600 dark:text-gray-300">
                    Detailed view of your reading analytics
                  </p>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <p-button
                  icon="pi pi-chart-bar"
                  severity="info"
                  size="small"
                  (onClick)="getQuickInsights()"
                  [rounded]="true"
                  pTooltip="Quick Insights"
                ></p-button>
                <p-button
                  icon="pi pi-refresh"
                  severity="secondary"
                  size="small"
                  (onClick)="refreshData()"
                  [rounded]="true"
                  pTooltip="Refresh Data"
                ></p-button>
                <p-button
                  icon="pi pi-file-excel"
                  severity="success"
                  size="small"
                  (onClick)="exportToExcel()"
                  [rounded]="true"
                  pTooltip="Export to Excel"
                ></p-button>
              </div>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <p-table
              #dt
              [value]="getFilteredBooks()"
              [paginator]="true"
              [rows]="10"
              [showCurrentPageReport]="true"
              currentPageReportTemplate="Showing {first} to {last} of {totalRecords} books"
              [globalFilterFields]="['title', 'author', 'genre']"
              class="analytics-table"
            >
              <ng-template pTemplate="caption">
                <div class="flex items-center justify-between mb-4">
                  <span
                    class="text-lg font-semibold text-gray-900 dark:text-white"
                  >
                    Books Analytics ({{ getFilteredBooks().length }} total)
                  </span>
                  <div class="flex items-center gap-2">
                    <span class="p-input-icon-left">
                      <input
                        pInputText
                        type="text"
                        #filter
                        (input)="onGlobalFilter($event, dt)"
                        placeholder="Search books..."
                        class="w-64"
                      />
                    </span>
                  </div>
                </div>
              </ng-template>

              <ng-template pTemplate="header">
                <tr>
                  <th pSortableColumn="title">
                    Title <p-sortIcon field="title"></p-sortIcon>
                  </th>
                  <th pSortableColumn="author">
                    Author <p-sortIcon field="author"></p-sortIcon>
                  </th>
                  <th pSortableColumn="genre">
                    Genre <p-sortIcon field="genre"></p-sortIcon>
                  </th>
                  <th pSortableColumn="pages">
                    Pages <p-sortIcon field="pages"></p-sortIcon>
                  </th>
                  <th pSortableColumn="rating">
                    Rating <p-sortIcon field="rating"></p-sortIcon>
                  </th>
                  <th pSortableColumn="spent">
                    Cost <p-sortIcon field="spent"></p-sortIcon>
                  </th>
                  <th pSortableColumn="date">
                    Date <p-sortIcon field="date"></p-sortIcon>
                  </th>
                  <th pSortableColumn="completed">
                    Status <p-sortIcon field="completed"></p-sortIcon>
                  </th>
                  <th>Actions</th>
                </tr>
              </ng-template>

              <ng-template pTemplate="body" let-book>
                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
                  <td class="font-medium text-gray-900 dark:text-white">
                    {{ book.title }}
                  </td>
                  <td class="text-gray-600 dark:text-gray-300">
                    {{ book.author }}
                  </td>
                  <td>
                    <p-tag
                      [value]="book.genre"
                      [severity]="getGenreSeverity(book.genre)"
                    ></p-tag>
                  </td>
                  <td class="text-right">{{ book.pages | number }}</td>
                  <td>
                    <div class="flex items-center gap-1">
                      <p-rating
                        [(ngModel)]="book.rating"
                        [readonly]="true"
                        [stars]="5"
                      ></p-rating>
                      <span class="text-sm text-gray-500 ml-2"
                        >{{ book.rating }}/5</span
                      >
                    </div>
                  </td>
                  <td class="text-right">${{ book.spent }}</td>
                  <td>{{ book.date | date : "mediumDate" }}</td>
                  <td>
                    <p-tag
                      [value]="book.completed ? 'Completed' : 'In Progress'"
                      [severity]="book.completed ? 'success' : 'warning'"
                    ></p-tag>
                  </td>
                  <td>
                    <div class="flex items-center gap-1">
                      <p-button
                        icon="pi pi-eye"
                        severity="info"
                        size="small"
                        (onClick)="viewBookDetails(book)"
                        [rounded]="true"
                        [text]="true"
                        pTooltip="View Details"
                      ></p-button>
                    </div>
                  </td>
                </tr>
              </ng-template>

              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="9" class="text-center py-8">
                    <div class="flex flex-col items-center gap-3">
                      <i class="pi pi-inbox text-4xl text-gray-300"></i>
                      <span class="text-gray-500"
                        >No books found matching your criteria</span
                      >
                    </div>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </ng-template>
        </p-card>
      </div>
    </div>
  </div>
</div>
